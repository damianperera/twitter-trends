(this["webpackJsonptwitter-trends"]=this["webpackJsonptwitter-trends"]||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/twitter-logo.084e6118.svg"},25:function(e,t,n){e.exports=n(46)},30:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(2),i=n.n(s),c=n(21),o=(n(30),n(3)),l=n.n(o),u=n(6),m=n(15),h=n(16),p=n(22),d=n(23),f=n(7),E=n(17),v=n.n(E),A=n(48),w=n(19),y=n.n(w),g=(n(39),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).isDevelopmentBuild=!0,r.TWITTER_BEARER_TOKEN="AAAAAAAAAAAAAAAAAAAAAEKfEwEAAAAANFaF8c%2BUUzSNX5nZzfgf1Mphlco%3DPn3CvGIUzxIwI5gZkQ8UHz6VMNWoLjSOE4BZSkbQJm0j5x7nfz",r.state={ip:"127.0.0.1",trends:[]},r}return Object(h.a)(n,[{key:"if",value:function(e){console.warn("This application is still under development")}},{key:"fetchIP",value:function(){var e=this;fetch("https://api.ipify.org?format=json").then((function(e){return e.json()})).then((function(t){var n=t.ip;return e.setState({ip:n})}))}},{key:"fetchSearch",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://twittertrends.perera.io/twitter/search/tweets.json?q=".concat(t.query,"&lang=en"),{headers:{Authorization:"Bearer ".concat(this.TWITTER_BEARER_TOKEN)}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,t.tweets=r.statuses,e.abrupt("return",Promise.resolve(t));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrends",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://twittertrends.perera.io/twitter/trends/place.json?id=1",{headers:{Authorization:"Bearer ".concat(this.TWITTER_BEARER_TOKEN)}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent[0].trends.slice(0,5),r=0;case 7:if(!(r<n.length)){e.next=15;break}return e.next=10,this.fetchSearch(n[r]);case 10:a=e.sent,n[r]=a;case 12:r++,e.next=7;break;case 15:return this.setState({trends:n}),e.abrupt("return",Promise.resolve());case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.isDevelopmentBuild||(this.fetchIP(),Object(f.trackPromise)(this.fetchTrends()))}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},this.isDevelopmentBuild&&a.a.createElement("header",{className:"App-header"},a.a.createElement("p",null,"Coming Soon",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("small",null,"This app is under development"))),a.a.createElement("header",{className:"App-header"},a.a.createElement(k,this.state)))}}]),n}(r.Component)),k=function(e){var t=e.trends,n=Object(f.usePromiseTracker)().promiseInProgress;return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement(A.a,{in:n,timeout:500,classNames:"my-node",unmountOnExit:!0},a.a.createElement(x,null)),a.a.createElement(A.a,{in:!n,timeout:1e3,classNames:"my-node-2",unmountOnExit:!0},a.a.createElement(T,{trends:t})))},x=function(){return a.a.createElement("div",{className:"App-state"},a.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center",display:"flex",alignItems:"center"}},a.a.createElement("img",{className:"twitter-logo",alt:"Twitter",src:y.a}),a.a.createElement("div",null," Trends",a.a.createElement("div",{style:{height:"0.1vh"}},a.a.createElement(v.a,{height:3,width:"99%",color:"white",loading:!0})))))},T=function(e){var t=e.trends;return a.a.createElement("div",{className:"App-state"},a.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center",display:"flex",alignItems:"center"}},a.a.createElement("ol",null,t.map((function(e){return a.a.createElement("p",{key:e.name},e.name)})))))},b=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,{basename:"/twitter-trends"},a.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6d47958d.chunk.js.map